<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

  <form action="" class="text-center col-12 row" id="index-bottom-form">
    <div class="col-md-6 col-12">
        <input type="text" name="name" required placeholder="Имя">
        <input type="text" name="phone" required placeholder="Телефон">
    </div>
    <div class="col-md-6 col-12">
        <textarea name="question" required placeholder="Ваш вопрос"></textarea>
    </div>
    <div class="offset-md-6 col-md-6 col-xs-12 text-center">
        <button class="site_button orange-gradient"><span>Отправить</span></button>
    </div>
</form>

<script>
  function handleSubmit(event) {
    event.preventDefault(); // Предотвращаем стандартное поведение отправки формы
  
    const formData = new FormData(event.target);
    const name = formData.get('name').trim();
    const phone = formData.get('phone').trim();
    const question = formData.get('question').trim();
  
    const message = `Новая заявка!\n\nИмя: ${name}\nТелефон: ${phone}\nВопрос: ${question}`;
  
    fetch(`https://api.telegram.org/bot6996860775:AAFsGhjHZdNKFV3nGzjbzPVIyvjSC67uT0g/sendMessage`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            chat_id: '-1002114578934', // Айди чата, куда будет отправлено сообщение
            text: message
        })
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Ошибка при отправке сообщения');
        }
        alert('Сообщение успешно отправлено!');
        event.target.reset(); // Очищаем форму после успешной отправки
    })
    .catch(error => {
        console.error('Ошибка:', error);
        alert('Произошла ошибка при отправке сообщения');
    });
  }
  
  document.getElementById('index-bottom-form').addEventListener('submit', handleSubmit);
  </script>
  
</body>
</html>